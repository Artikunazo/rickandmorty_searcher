<div class="card pb-4">
  <div [ngSwitch]="typeSearch">
    <div *ngSwitchCase="'characters'">
      <ng-container *ngTemplateOutlet="characterCard"></ng-container>
    </div>

    <div *ngSwitchCase="'locations'">
      <ng-container *ngTemplateOutlet="locationCard"></ng-container>
    </div>

    <div *ngSwitchCase="'episodes'">
      <ng-container *ngTemplateOutlet="episodeCard"></ng-container>
    </div>

    <div *ngSwitchDefault>
      <!-- <ng-container *ngTemplateOutlet="defaultCard"></ng-container> -->
    </div>
  </div>
</div>

<ng-template #characterCard>
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ result?.name }}</mat-card-title>
    </mat-card-header>
    <img mat-card-image [src]="result?.image" [alt]="'Photo of ' + result?.name">
    <mat-card-content>
      <p>Gender: {{ result?.gender }}</p>
      <p>Location: {{ result?.location?.name }}</p>
      <p *ngIf="episode">Episode: {{ episode.name }}</p>
    </mat-card-content>
    <mat-card-actions align="end">
      <button mat-button (click)="addCompare(result?.id)">Compare</button>
    </mat-card-actions>
  </mat-card>
</ng-template>

<ng-template #locationCard>
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ result?.name }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>Tipo: {{ result?.type }}</p>
      <p>Dimensi贸n: {{ result?.dimension }}</p>
      <p>Residentes: {{ result?.residents.length }}</p>
      <p>Fecha de creaci贸n: {{ result?.created }}</p>
    </mat-card-content>
  </mat-card>
</ng-template>

<ng-template #episodeCard>
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ result?.name }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>Fecha de emisi贸n: {{ result?.air_date }}</p>
      <p>C贸digo de episodio: {{ result?.episode }}</p>

      <div class="characters" *ngIf="moreInfo">
        <p>Personajes en este episodio:</p>
        <div *ngIf="loading">
          <spinner></spinner>
        </div>
        <ul>
          <li *ngFor="let character of characters">
            <div class="row">
              <div class="col-6">
                <p>
                  {{ character.name }}
                </p>
              </div>
              <div class="col-6">
                <img
                  [src]="character.image"
                  class="img-fluid"
                  [alt]="character.name + ' photo'"
                />
              </div>
            </div>
          </li>
        </ul>
      </div>

      <button
        type="button"
        class="btn btn-primary pull-right"
        (click)="toggleMoreInfo()"
      >
        <span *ngIf="!moreInfo">+ </span>
        <span *ngIf="moreInfo">- </span>
        Info
      </button>
    </mat-card-content>
  </mat-card>
</ng-template>
